{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\wuzhiqing\\\\Documents\\\\GitHub\\\\INFO30005\\\\info3005_front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\wuzhiqing\\\\Documents\\\\GitHub\\\\INFO30005\\\\info3005_front\\\\src\\\\pages\\\\Caregivers.js\";\nimport React, { useState } from \"react\";\nimport { useCaregivers, updateCaregiver, deleteCaregiver } from \"../api\";\nimport Button from \"../components/Button\";\nexport default function Caregivers() {\n  var _this = this;\n\n  var _useCaregivers = useCaregivers(),\n      loading = _useCaregivers.loading,\n      caregivers = _useCaregivers.caregivers,\n      error = _useCaregivers.error;\n\n  if (loading) {\n    return /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 9,\n        columnNumber: 12\n      }\n    }, \"Loading...\");\n  }\n\n  if (error) {\n    return /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 12,\n        columnNumber: 12\n      }\n    }, \"Something went wrong: \", error.message);\n  } // use this to make sure you are getting the right data\n\n\n  console.log(caregivers); // Display a list of the authors\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 9\n    }\n  }, \"Caregivers List\"), caregivers.map(function (caregiver) {\n    return /*#__PURE__*/React.createElement(Caregiver, Object.assign({\n      key: caregiver.id\n    }, caregiver, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 15\n      }\n    }));\n  }));\n}\n\nfunction Caregiver(caregiver) {\n  var id = caregiver.id,\n      first_name = caregiver.first_name,\n      last_name = caregiver.last_name,\n      gender = caregiver.gender,\n      introduction = caregiver.introduction;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      showUpdate = _useState2[0],\n      setShowUpdate = _useState2[1];\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"caregiver caregiver-\".concat(id),\n    key: id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }\n  }, \"(\", id, \") \", first_name, \" \", last_name, \" \", gender, \" \", introduction, /*#__PURE__*/React.createElement(Button, {\n    className: \"btn\",\n    onClick: function onClick() {\n      return setShowUpdate(!showUpdate);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }\n  }, showUpdate ? \"-\" : \"+\")), /*#__PURE__*/React.createElement(CaregiverExtended, Object.assign({}, caregiver, {\n    showUpdate: showUpdate,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }\n  })));\n}\n\nfunction CaregiverExtended(props) {\n  var id = props.id,\n      first_name = props.first_name,\n      last_name = props.last_name,\n      gender = props.gender,\n      introduction = props.introduction,\n      showUpdate = props.showUpdate;\n\n  var _useState3 = useState(id),\n      _useState4 = _slicedToArray(_useState3, 2),\n      id_input = _useState4[0],\n      setId = _useState4[1];\n\n  var _useState5 = useState(first_name),\n      _useState6 = _slicedToArray(_useState5, 2),\n      first_input = _useState6[0],\n      setFirstName = _useState6[1];\n\n  var _useState7 = useState(last_name),\n      _useState8 = _slicedToArray(_useState7, 2),\n      last_input = _useState8[0],\n      setLastName = _useState8[1];\n\n  var _useState9 = useState(gender),\n      _useState10 = _slicedToArray(_useState9, 2),\n      gender_input = _useState10[0],\n      setGender = _useState10[1];\n\n  var _useState11 = useState(introduction),\n      _useState12 = _slicedToArray(_useState11, 2),\n      introduction_input = _useState12[0],\n      setIntroduction = _useState12[1];\n\n  function onSubmit() {\n    // call upate author function\n    updateCaregiver({\n      id: id_input,\n      first_name: first_input,\n      last_name: last_input,\n      gender: gender_input,\n      introduction: introduction_input\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"caregiver-expand \".concat(showUpdate ? \"show\" : \"\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"id\",\n    value: id_input,\n    onChange: function onChange(event) {\n      setId(event.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"first_name\",\n    value: first_input,\n    onChange: function onChange(event) {\n      setFirstName(event.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"last_name\",\n    value: last_input,\n    onChange: function onChange(event) {\n      setLastName(event.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"gender\",\n    value: gender_input,\n    onChange: function onChange(event) {\n      setGender(event.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"introduction\",\n    value: introduction_input,\n    onChange: function onChange(event) {\n      setIntroduction(event.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    className: \"btn-warning\",\n    onClick: onSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 9\n    }\n  }, \"Update\")), /*#__PURE__*/React.createElement(Button, {\n    className: \"btn-danger\",\n    onClick: function onClick() {\n      return deleteCaregiver(id);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }\n  }, \"Delete\"));\n}","map":{"version":3,"sources":["C:/Users/wuzhiqing/Documents/GitHub/INFO30005/info3005_front/src/pages/Caregivers.js"],"names":["React","useState","useCaregivers","updateCaregiver","deleteCaregiver","Button","Caregivers","loading","caregivers","error","message","console","log","map","caregiver","id","Caregiver","first_name","last_name","gender","introduction","showUpdate","setShowUpdate","CaregiverExtended","props","id_input","setId","first_input","setFirstName","last_input","setLastName","gender_input","setGender","introduction_input","setIntroduction","onSubmit","event","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport { useCaregivers, updateCaregiver, deleteCaregiver } from \"../api\";\r\n\r\nimport Button from \"../components/Button\";\r\n\r\nexport default function Caregivers() {\r\n  const { loading, caregivers, error } = useCaregivers();\r\n  if (loading) {\r\n    return <p>Loading...</p>;\r\n  }\r\n  if (error) {\r\n    return <p>Something went wrong: {error.message}</p>;\r\n  }\r\n\r\n  // use this to make sure you are getting the right data\r\n  console.log(caregivers);\r\n\r\n  // Display a list of the authors\r\n  return (\r\n      <div>\r\n        <h1>Caregivers List</h1>\r\n          {caregivers.map(caregiver => (\r\n              <Caregiver key={caregiver.id} {...caregiver} />\r\n          ))}\r\n      </div> );\r\n}\r\n\r\nfunction Caregiver(caregiver) {\r\n  const { id, first_name, last_name, gender, introduction} = caregiver;\r\n    const [showUpdate, setShowUpdate] = useState(false);\r\n\r\n  return (\r\n    <div className={`caregiver caregiver-${id}`} key={id}>\r\n      <div className=\"info\">\r\n        ({id}) {first_name} {last_name} {gender} {introduction}\r\n        <Button className={\"btn\"} onClick={() => setShowUpdate(!showUpdate)}>\r\n          {showUpdate ? \"-\" : \"+\"}\r\n        </Button>\r\n      </div>\r\n      <CaregiverExtended {...caregiver} showUpdate={showUpdate} />\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction CaregiverExtended(props) {\r\n  const { id, first_name, last_name, gender, introduction, showUpdate } = props;\r\n\r\n  const [id_input, setId] = useState(id);\r\n  const [first_input, setFirstName] = useState(first_name);\r\n  const [last_input, setLastName] = useState(last_name);\r\n  const [gender_input, setGender] = useState(gender);\r\n  const [introduction_input,setIntroduction] = useState(introduction);\r\n  function onSubmit() {\r\n    // call upate author function\r\n      updateCaregiver({\r\n       id: id_input,\r\n       first_name: first_input,\r\n       last_name: last_input,\r\n       gender: gender_input,\r\n       introduction: introduction_input\r\n     });\r\n  }\r\n\r\n  return (\r\n    <div className={`caregiver-expand ${showUpdate ? \"show\" : \"\"}`}>\r\n      <form>\r\n        {/* TODO - add value and onChange properties to inputs */}\r\n        <input type=\"text\"\r\n               name=\"id\"\r\n               value = {id_input}\r\n               onChange={event => {\r\n                   setId(event.target.value);\r\n               }}\r\n            />\r\n        <input type=\"text\"\r\n               name=\"first_name\"\r\n               value = {first_input}\r\n               onChange={event => {\r\n                   setFirstName(event.target.value);\r\n               }}\r\n        />\r\n        <input type=\"text\"\r\n               name=\"last_name\"\r\n               value = {last_input}\r\n               onChange={event => {\r\n                   setLastName(event.target.value);\r\n               }}\r\n        />\r\n          <input type=\"text\"\r\n                 name=\"gender\"\r\n                 value = {gender_input}\r\n                 onChange={event => {\r\n                     setGender(event.target.value);\r\n                 }}\r\n          />\r\n          <input type=\"text\"\r\n                 name=\"introduction\"\r\n                 value = {introduction_input}\r\n                 onChange={event => {\r\n                     setIntroduction(event.target.value);\r\n                 }}\r\n          />\r\n\r\n        <Button className={\"btn-warning\"} onClick={onSubmit}>\r\n          Update\r\n        </Button>\r\n      </form>\r\n      <Button className={\"btn-danger\"} onClick={() => deleteCaregiver(id)}>\r\n        Delete\r\n      </Button>\r\n    </div>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}